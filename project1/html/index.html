<html>
<head>
<title>CS 143 Project</title>
<link href='http://fonts.googleapis.com/css?family=Nunito:300|Crimson+Text|Droid+Sans+Mono' rel='stylesheet' type='text/css'>
<link rel="stylesheet" title="Default" href="styles/github.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>  

<link rel="stylesheet" href="highlighting/styles/default.css">
<script src="highlighting/highlight.pack.js"></script>

<style type="text/css">
body {
	margin: 0px;
	width: 100%;
	font-family: 'Crimson Text', serif;
	font-size: 20px;
	background: #fcfcfc;
}
h1 {
	font-family: 'Nunito', sans-serif;
	font-weight: normal;
	font-size: 28px;
	margin: 25px 0px 0px 0px;
	text-transform: lowercase;

}

h2 {
	font-family: 'Nunito', sans-serif;
	font-weight: normal;
	font-size: 32px;
	margin: 15px 0px 35px 0px;
	color: #333;	
	word-spacing: 3px;
}

h3 {
	font-family: 'Nunito', sans-serif;
	font-weight: normal;
	font-size: 26px;
	margin: 10px 0px 10px 0px;
	color: #333;
	word-spacing: 2px;
}
h4 {
	font-family: 'Nunito', sans-serif;
	font-weight: normal;
	font-size: 22px;
	margin: 10px 0px 10px 0px;
	color: #333;
	word-spacing: 2px;
}

h5 {
	font-family: 'Nunito', sans-serif;
	font-weight: normal;
	font-size: 18px;
	margin: 10px 0px 10px 0px;
	color: #111;
	word-spacing: 2px;
}

p, li {
	color: #444;
}

a {
	color: #DE3737;
}

.container {
	margin: 0px auto 0px auto;
	width: 960px;
}

#header {
	background: #333;
	width: 100%;
}

#headersub {
	color: #ccc;
	width: 960px;
	margin: 0px auto 0px auto;
	padding: 20px 0px 20px 0px;
}

.chart {
	width: 480px;
}
.lol {
	font-size: 16px;
	color: #888;
	font-style: italic;
}
.sep {
	height: 1px;
	width: 100%;
	background: #999;
	margin: 20px 0px 20px 0px;
}
.footer{
	font-size: 16px;
}
.latex {
	width: 100%;
}

.latex img {
	display: block;
	margin: 0px auto 0px auto;
}

pre {
	font-family: 'Droid Sans Mono';
	font-size: 14px;
}

td img {
  vertical-align: middle;
}

.clear {
	clear: left;
}

#contents a {
}

</style>
<script type="text/javascript">
    hljs.initHighlightingOnLoad();
</script>
</head>
<body>
<div id="header" >
<div id="headersub">
<h1>Cheng Xie<span style="color: #DE3737">(cxie)</span></h1>
</div>
</div>
<div class="container">

<h2>CS 143 / Project 1 / Image Filtering and Hybrid Images</h2>

<p class="clear">Hybrid image is generated by two steps. First we need to create a low-pass version of image1, a high-pass version of image2, then we need to add them together. In order to achieve ideal results, I experimented with different gaussian filters when filtering the images.</p>

<h3>Filtering</h2>
<p>In order to deal with the pixels near image edges, I padded the original image with black pixels around its edges according to size of filter. Then I applied the filter on each pixel, calculating different color channels separately, to get the filtered image.</p>

<pre><code>
function output = my_imfilter(image, filter)

filter_rows = size(filter, 1);
filter_cols = size(filter, 2);

half_filter_rows = floor(filter_rows/2);
half_filter_cols = floor(filter_cols/2);

image_rows = size(image, 1);
image_cols = size(image, 2);
image_channels = size(image, 3);

image = padarray(image, [half_filter_rows, half_filter_cols]);

output = zeros(image_rows, image_cols, image_channels);

for channel = 1:image_channels
    for row = 1:image_rows
        for col = 1:image_cols
            output(row, col, channel) = sum(sum(image(row:row+filter_rows-1, col:col+filter_cols-1, channel) .* filter));
        end
    end
end

</code></pre>

<div style="clear:both">
<h3>Merging</h2>
<p>There are two things to consider when generating hybrid images. First, when we get two images, we need to decide the image that we get high frequencies from, and the image to get low frequencies from, so that the final result is desirable. Second, we need to control the parameters used to generate gaussian filter. In order to do this, I tried different cutoff_frequency under the two options for each pair of images.</p>

<img src="images/bird3/hybrid_image_1.jpg">
<img src="images/bird3/hybrid_image_2.jpg">
<img src="images/bird3/hybrid_image_3.jpg">
<img src="images/bird3/hybrid_image_4.jpg">
<img src="images/bird3/hybrid_image_5.jpg">
<br />
<img src="images/bird1/hybrid_image_1.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_2.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_3.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_4.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_5.jpg" style="padding-right:120px;">
<br />
<img src="images/bird3/hybrid_image_6.jpg">
<img src="images/bird3/hybrid_image_7.jpg">
<img src="images/bird3/hybrid_image_8.jpg">
<img src="images/bird3/hybrid_image_9.jpg">
<img src="images/bird3/hybrid_image_10.jpg">
<br />
<img src="images/bird1/hybrid_image_6.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_7.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_8.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_9.jpg" style="padding-right:120px;">
<img src="images/bird1/hybrid_image_10.jpg" style="padding-right:120px;">
<br />
<br />
<img src="images/bird4/hybrid_image_1.jpg">
<img src="images/bird4/hybrid_image_2.jpg">
<img src="images/bird4/hybrid_image_3.jpg">
<img src="images/bird4/hybrid_image_4.jpg">
<img src="images/bird4/hybrid_image_5.jpg">
<br />
<img src="images/bird2/hybrid_image_1.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_2.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_3.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_4.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_5.jpg" style="padding-right:120px;">
<br />
<img src="images/bird4/hybrid_image_6.jpg">
<img src="images/bird4/hybrid_image_7.jpg">
<img src="images/bird4/hybrid_image_8.jpg">
<img src="images/bird4/hybrid_image_9.jpg">
<img src="images/bird4/hybrid_image_10.jpg">
<br />
<img src="images/bird2/hybrid_image_6.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_7.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_8.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_9.jpg" style="padding-right:120px;">
<img src="images/bird2/hybrid_image_10.jpg" style="padding-right:120px;">

<p>As an example, 20 hybrid images of plane and bird are generated as above. The first ten hybrid images are generated by getting low frequencies from bird, while the last ten hybrid images are generated by getting low frequencies from plane. The cutoff_frequency increases for each set of hybrid images, from left to right, top to bottom, 1 to 10.</p>

<p>After observation, we can see that extracting low frequencies from bird with cutoff_frequency around 5 can produce a reasonable hybrid image.</p>

<h3>Result</h3>
<p>These are some hybrid image results of my project1.</p>

<img src="images/results/avd.jpg">
<img src="images/results/jh.jpg">
<br />
<img src="images/results/result_6.jpg">
<br />
<br />
<br />
<br />

<img src="images/results/jfh.jpg">
<img src="images/results/sk.jpg">
<br />
<img src="images/results/result_5.jpg">
<br />
<br />
<br />
<br />

<img src="images/results/lk.jpg">
<img src="images/results/orc.jpg">
<img src="images/results/result_7.jpg">
<br />
<br />
<br />
<br />
<br />

<img src="images/results/result_1.jpg">
<br />
<img src="images/results/result_2.jpg">
<br />
<img src="images/results/result_3.jpg">
<br />
<img src="images/results/result_4.jpg">
<br />

</div>
</body>
</html>
